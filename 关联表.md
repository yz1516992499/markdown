| **功能**                  | **关联表**                                   | **操作**       | **条件字段**                                                 | **备注**                                                     |
| ------------------------- | -------------------------------------------- | -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **登录**                  |                                              |                |                                                              |                                                              |
|                           | application_user                             | SELECT         | email=%email%, status!='INVALID'                             | -                                                            |
|                           | application_user_information                 | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_setting                     | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                | -                                                            |
|                           | mapping_user_potential_investor (potential0) | SELECT         | potential0.user_id=%id%,                                     | -                                                            |
|                           | master_data (data1)                          | SELECT         | potential0.potential_investor_id = data1.entity_id           | -                                                            |
|                           | login_session_record                         | INSERT, UPDATE | entity_id=%session_tag%                                      | -                                                            |
|                           | application_user_point                       | SELECT         | user_id=%id%                                                 | -                                                            |
|                           |                                              |                |                                                              |                                                              |
| **忘记密码**              |                                              |                |                                                              |                                                              |
|                           | application_user                             | SELECT         | email=%email%, status!='INVALID'                             | -                                                            |
|                           | application_user_information                 | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_point                       | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_setting                     | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.master_data                              | -                                                            |
|                           | mapping_user_potential_investor (potential0) | SELECT         | potential0.user_id=%id%,                                     | -                                                            |
|                           | master_data (data1)                          | SELECT         | potential0.potential_investor_id = data1.entity_id           | -                                                            |
|                           | login_session_record                         | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user                             | UPDATE         | entity_id=%id%                                               | -                                                            |
|                           | login_session_record                         | UPDATE         | entity_id=%id%                                               | 删除所有登录会话                                             |
|                           |                                              |                |                                                              |                                                              |
| **个人资料**              |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id=%id%, status!='INVALID'                              | -                                                            |
|                           | application_user                             | SELECT         | entity_id=%id%                                               | -                                                            |
|                           | application_user_information                 | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_point                       | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_setting                     | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                | -                                                            |
|                           | mapping_user_potential_investor (potential0) | SELECT         | potential0.user_id=%id%                                      | -                                                            |
|                           | master_data (data1)                          | SELECT         | potential0.potential_investor_id = data1.entity_id           | -                                                            |
|                           | membership_grading                           | SELECT         | entity_id=%id%                                               | -                                                            |
|                           | my_bro_record                                | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | investment_record                            | SELECT         | amount in (0,999999999), recommended_by=%recommender%, status!='INVALID', investment='INVESTMENT_ACCOUNT_HAS_BEEN_PAID' | -                                                            |
|                           | main_flow_join_request_record                | SELECT         | requester_user_id=%id%, status!='INVALID'                    | -                                                            |
|                           | disapprove_reason                            | SELECT         | user_id=%id%, status!='INVALID'                              | -                                                            |
|                           |                                              |                |                                                              |                                                              |
| **修改密码**              |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id=%id%, status!='INVALID'                              | -                                                            |
|                           | application_user                             | SELECT         | entity_id=%id%                                               | -                                                            |
|                           | application_user_information                 | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_point                       | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | application_user_setting                     | SELECT         | user_id=%id%                                                 | -                                                            |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                | -                                                            |
|                           | mapping_user_potential_investor (potential0) | SELECT         | potential0.user_id=%id%                                      | -                                                            |
|                           | master_data (data1)                          | SELECT         | potential0.potential_investor_id = data1.entity_id           | -                                                            |
|                           | application_user                             | UPDATE         | entity_id=%id%                                               | -                                                            |
|                           | login_session_record                         | UPDATE         | entity_id=%id%                                               | 删除所有登录会话                                             |
| **登出**                  |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               |                                                              |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | mapping_user_potential_investor (potential0) | SELECT         | potential0.user_id=%id%                                      | -                                                            |
|                           | master_data (data1)                          | SELECT         | potential0.potential_investor_id = data1.entity_id           | -                                                            |
| **创建项目方（advisor）** |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               | -                                                            |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | application_user                             | INSERT         |                                                              |                                                              |
|                           | application_user_information                 | INSERT         |                                                              |                                                              |
|                           | application_user_point                       | INSERT         |                                                              |                                                              |
|                           | application_user_setting                     | INSERT         |                                                              |                                                              |
| **创建项目**              |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               | -                                                            |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | crowd_funding_project (cfp0)                 | SELECT         | cfp0.entity_id='id'                                          |                                                              |
|                           | application_user (au1)                       | SELECT         | au1.entity_id=cfp0.user_id                                   |                                                              |
|                           | application_user_information(aui2)           | SELECT         | aui2.user_id=au1.entity_id                                   |                                                              |
|                           | application_user_point(aup3)                 | SELECT         | aup3.user_id=au1.entity_id                                   |                                                              |
|                           | application_user_setting(aus4)               | SELECT         | aus4.user_id=au1.entity_id                                   |                                                              |
|                           | mapping_project_country(mpc5)                | SELECT         | mpc5.project_id=au1.entity_id                                |                                                              |
|                           | master_data(md6)                             | SELECT         | md6.entity_id=mpc5.country_id                                |                                                              |
|                           |                                              |                | md6.entity_id=cfp0.currency.id                               |                                                              |
|                           |                                              |                | md6.entity_id=cfp0.financing_stage_id                        |                                                              |
|                           | crowd_funding_project                        | INSERT         |                                                              |                                                              |
|                           | crowd_funding_project                        | UPDATE         | entity_id='id'                                               |                                                              |
|                           | mapping_project_industry                     | INSERT         | project_id,industry_id                                       | 这条 SQL 插入语句将在 `mapping_project_industry` 表中添加一条新的映射关系，将 `project_id` 和 `industry_id` 关联起来 |
|                           | mapping_projectusd_industry                  | INSERT         | projectusd_id,industry_id                                    |                                                              |
|                           | mapping_project_potential_investor           | INSERT         | project_id,potential_investor_id                             |                                                              |
|                           | mapping_projectusd_potential_investor        | INSERT         | projectusd_id,potential_investor_id                          |                                                              |
|                           | mapping_project_region                       | INSERT         | project_id,region_id                                         |                                                              |
|                           | mapping_projectusd_region                    | INSERT         | projectusd_id,region_id                                      |                                                              |
|                           | mapping_project_tag                          | INSERT         | project_id,tag_id                                            |                                                              |
|                           | mapping_projectusd_tag                       | INSERT         | projectusd_id,tag_id                                         |                                                              |
|                           | mapping_project_verification                 | INSERT         | project_id,verification_id                                   |                                                              |
|                           | mapping_projectusd_verification              | INSERT         | projectusd_id,verification_id                                |                                                              |
| **查看项目列表**          |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               | -                                                            |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | crowd_funding_project                        | SELECT         | status!='INVALID',desc by created_date                       |                                                              |
| **查看项目详情**          |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               |                                                              |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | mapping_project_region                       | SELECT         | project_id='id'                                              |                                                              |
|                           | mapping_project_industry                     | SELECT         | project_id='id'                                              |                                                              |
|                           | mapping_project_country                      | SELECT         | project_id='id'                                              |                                                              |
| **更新项目**              |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               | -                                                            |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | mapping_projectusd_region(region2)           | SELECT         | region2.region_id=data1.entity_id                            |                                                              |
|                           | mapping_projectusd_tag(tag3)                 | SELECT         | tag3.tag_id=data1.entity_id                                  |                                                              |
|                           | mapping_projectusd_verification(verify4)     | SELECT         | verify4.verification_id=data1.entity_id                      |                                                              |
|                           | mapping_projectusd_industry(industry5)       | SELECT         | industry5.project_id=data1.entity_id                         |                                                              |
|                           | crowd_funding_project                        | SELECT         | status!='INVALID',desc by created_date                       |                                                              |
|                           | crowd_funding_project                        | UPDATE         |                                                              |                                                              |
|                           | crowd_funding_projectusd                     | UPDATE         |                                                              |                                                              |
|                           | mapping_project_potential_investor           | DELETE         | project_id='id'                                              |                                                              |
|                           | mapping_projectusd_industry                  | DELETE         | projectusd_id='id'                                           |                                                              |
|                           | mapping_project_region                       | DELETE         | project_id='id'                                              |                                                              |
|                           | mapping_project_tag                          | DELETE         | project_id='id'                                              |                                                              |
|                           | mapping_projectusd_potential_investor        | DELETE         | projectusd_id='id'                                           |                                                              |
|                           | mapping_project_industry                     | INSERT         | project_id='id'                                              |                                                              |
|                           | mapping_projectusd_industry                  | INSERT         | projectusd_id,industry_id                                    |                                                              |
|                           | mapping_projectusd_potential_investor        | INSERT         | projectusd_id,potential_investor_id                          |                                                              |
|                           | mapping_project_potential_investor           | INSERT         | project,potential_investor_id                                |                                                              |
|                           | mapping_project_tag                          | INSERT         | project_id,tag_id                                            |                                                              |
| **删除项目**              |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               |                                                              |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | crowd_funding_project                        | SELECT         | status!='INVALID',desc by created_date                       |                                                              |
|                           | crowd_funding_project                        | UPDATE         | status='INVALID'                                             | statutus置为INVALID                                          |
|                           | crowd_funding_projectusd                     | UPDATE         | status='INVALID'                                             | statutus置为INVALID                                          |
| **新增管理员**            |                                              |                |                                                              |                                                              |
|                           | login_session_record                         | SELECT         | user_id='id',status!='INVALID'                               | -                                                            |
|                           | application_user                             | SELECT         | entity_id='id'                                               |                                                              |
|                           | application_user_information                 | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_point                       | SELECT         | user_id='id'                                                 |                                                              |
|                           | application_user_setting                     | SELECT         | user_id='id'                                                 |                                                              |
|                           | mapping_user_tag (tag0)                      | SELECT         | tag0.user_id=%id%                                            | -                                                            |
|                           | master_data (data1)                          | SELECT         | tag0.tag_id = data1.entity_id                                |                                                              |
|                           | application_user                             | INSERT         |                                                              |                                                              |
|                           | application_user_information                 | INSERT         |                                                              |                                                              |
|                           | application_user_point                       | INSERT         |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |
|                           |                                              |                |                                                              |                                                              |

